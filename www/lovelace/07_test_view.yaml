title: 07_test_view
#background: center / cover no-repeat url("/local/images/fond ecran/metal.png") fixed
icon: mdi:ab-testing
#panel : true
cards:
  - type: vertical-stack
    cards:
  - type: custom:decluttering-card
    template: button_hassos

  - template: button_synology
    type: "custom:decluttering-card"
    variables:
      - entity: "sensor.lama_cpu_load_total"
      - icon: mdi:nas
      - name: Synology
      - colorstyle: "[[[
          if (entity.state == 'OL') return 'lime';
          if (entity.state == 'OB') return 'yellow';
          if (entity.state == 'LB') return 'magenta';
          if (entity.state == 'OB LB') return 'red';
          if (entity.state == 'OL LB') return 'cyan';
          else return 'deepskyblue';
          ]]]"
      - tempfield: "[[[
          return `<ha-icon icon='mdi:thermometer' style='width: 20px; height: 20px; color: yellow;'></ha-icon>
          <span style='align: left;'>${Math.round(states['sensor.lama_temperature_sda'].state)}Â°C</span>`
          ]]]"
      - cpufield: "[[[
          return `<ha-icon icon='mdi:server' style='width: 20px; height: 20px; color: deepskyblue;'></ha-icon>
          <span>CPU: <span style='color: var(--text-color-sensor);'>${states['sensor.lama_cpu_load_total'].state}%</span></span>`
          ]]]"
      - ramfield: "[[[
          return `<ha-icon icon='mdi:memory' style='width: 20px; height: 20px; color: deepskyblue;'></ha-icon>
          <span>RAM: <span style='color: var(--text-color-sensor);'>${states['sensor.lama_memory_usage_real'].state}%</span></span>`
          ]]]"
      - sdfield: "[[[
          return `<ha-icon icon='mdi:harddisk' style='width: 20px; height: 20px; color: deepskyblue;'></ha-icon>
          <span>HDD: <span style='color: var(--text-color-sensor);'>${states['sensor.lama_volume_used_volume_1'].state}%</span></span>`
          ]]]"
      - cpustyle: "[[[
          if (states['sensor.lama_cpu_load_total'].state > 40) return 'orange';
          if (states['sensor.lama_cpu_load_total'].state >= 60 && states['sensor.lama_cpu_load_total'].state < 80) return 'red';
          else return 'lime';
          ]]]"
      - ramstyle: "[[[
          if (states['sensor.lama_memory_usage_real'].state > 40) return 'orange';
          if (states['sensor.lama_memory_usage_real'].state >= 60 && states['sensor.lama_memory_usage_real'].state < 80) return 'red';
          else return 'lime';
          ]]]"
      - sdstyle: "[[[
          if (states['sensor.lama_volume_used_volume_1'].state > 50) return 'orange';
          if (states['sensor.lama_volume_used_volume_1'].state >= 60 && states['sensor.lama_volume_used_volume_1'].state < 80) return 'red';
          else return 'lime';
          ]]]"
